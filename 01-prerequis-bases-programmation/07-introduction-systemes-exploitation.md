üîù Retour au [Sommaire](/SOMMAIRE.md)

# 1.7 Introduction aux syst√®mes d'exploitation

## Introduction

Un syst√®me d'exploitation (Operating System ou OS en anglais) est le logiciel le plus important de votre ordinateur. C'est lui qui fait le lien entre le mat√©riel (processeur, m√©moire, disque dur) et les applications que vous utilisez. Comprendre son r√¥le est essentiel pour tout programmeur.

## Qu'est-ce qu'un syst√®me d'exploitation ?

### D√©finition

Un **syst√®me d'exploitation** est un ensemble de programmes qui g√®re les ressources mat√©rielles de l'ordinateur et fournit des services aux applications.

**Analogie :** Si l'ordinateur est une maison :
- Le **mat√©riel** (processeur, m√©moire, disque) = les murs, l'√©lectricit√©, la plomberie
- Le **syst√®me d'exploitation** = le gestionnaire qui s'occupe de tout (√©lectricien, plombier, gardien)
- Les **applications** = les habitants qui utilisent les services de la maison

### Pourquoi avons-nous besoin d'un syst√®me d'exploitation ?

**Sans syst√®me d'exploitation :**
- Chaque programme devrait savoir comment communiquer directement avec le mat√©riel
- Il serait impossible d'ex√©cuter plusieurs programmes en m√™me temps
- G√©rer les fichiers serait extr√™mement complexe
- Pas d'interface utilisateur conviviale

**Avec un syst√®me d'exploitation :**
- Les programmes utilisent des interfaces standardis√©es
- Plusieurs applications peuvent fonctionner simultan√©ment
- Gestion automatique de la m√©moire et des ressources
- Interface utilisateur intuitive (fen√™tres, ic√¥nes, menus)

## Les r√¥les principaux du syst√®me d'exploitation

### 1. Gestion du processeur

Le syst√®me d'exploitation d√©cide quel programme utilise le processeur et pendant combien de temps.

**Multit√¢che :**
- Vous pouvez √©couter de la musique, naviguer sur le web et √©crire un document simultan√©ment
- Le syst√®me alterne rapidement entre les programmes (des milliers de fois par seconde)
- Chaque programme a l'impression d'avoir le processeur pour lui tout seul

**Ordonnancement :**
- D√©finit la priorit√© des t√¢ches
- Les programmes syst√®me sont prioritaires sur les applications
- √âvite qu'un programme bloque tout l'ordinateur

### 2. Gestion de la m√©moire

Le syst√®me d'exploitation attribue de la m√©moire RAM aux programmes et la r√©cup√®re quand ils se terminent.

**Allocation m√©moire :**
- Chaque programme re√ßoit son propre espace m√©moire
- Un programme ne peut pas acc√©der √† la m√©moire d'un autre (s√©curit√©)
- Gestion de la m√©moire virtuelle (utilisation du disque dur si la RAM est pleine)

**Protection :**
- Isole les programmes les uns des autres
- Emp√™che les erreurs d'un programme d'affecter les autres

### 3. Gestion des fichiers

Le syst√®me d'exploitation organise les donn√©es sur le disque dur sous forme de fichiers et de dossiers.

**Syst√®me de fichiers :**
- Structure hi√©rarchique (dossiers et sous-dossiers)
- Nommage des fichiers
- Permissions d'acc√®s (lecture, √©criture, ex√©cution)
- M√©tadonn√©es (date de cr√©ation, taille, propri√©taire)

**Op√©rations courantes :**
- Cr√©er, lire, modifier, supprimer des fichiers
- Cr√©er, d√©placer, renommer des dossiers
- Copier et d√©placer des donn√©es

### 4. Gestion des p√©riph√©riques

Le syst√®me d'exploitation contr√¥le tous les p√©riph√©riques connect√©s √† l'ordinateur.

**Pilotes (drivers) :**
- Logiciels qui permettent au syst√®me de communiquer avec le mat√©riel
- Chaque p√©riph√©rique a besoin de son pilote
- Exemples : pilote d'imprimante, pilote de carte graphique

**P√©riph√©riques g√©r√©s :**
- Clavier et souris (entr√©e)
- √âcran (sortie)
- Disques durs et SSD (stockage)
- Imprimantes, scanners
- Cartes r√©seau, USB
- Cartes son

### 5. Gestion des utilisateurs et s√©curit√©

Le syst√®me d'exploitation contr√¥le qui peut faire quoi sur l'ordinateur.

**Comptes utilisateurs :**
- Chaque utilisateur a son propre compte
- Ses propres fichiers et param√®tres
- Ses propres droits d'acc√®s

**Niveaux de privil√®ges :**
- **Utilisateur standard** : peut utiliser les programmes et g√©rer ses fichiers
- **Administrateur** : peut installer des logiciels, modifier les param√®tres syst√®me, g√©rer les autres utilisateurs

**S√©curit√© :**
- Mots de passe pour prot√©ger les comptes
- Pare-feu pour bloquer les acc√®s r√©seau non autoris√©s
- Chiffrement des donn√©es sensibles

### 6. Interface utilisateur

Le syst√®me d'exploitation fournit une interface pour interagir avec l'ordinateur.

**Interface graphique (GUI - Graphical User Interface) :**
- Fen√™tres, ic√¥nes, menus, boutons
- Interaction √† la souris
- Glisser-d√©poser
- Multi-fen√™trage

**Interface en ligne de commande (CLI - Command Line Interface) :**
- Interaction par texte
- Commandes tap√©es au clavier
- Plus puissante mais moins intuitive
- Indispensable pour certaines t√¢ches avanc√©es

## Les principaux syst√®mes d'exploitation

### Windows (Microsoft)

**Histoire :**
- Cr√©√© par Microsoft en 1985
- Syst√®me le plus utilis√© sur les ordinateurs personnels
- Interface graphique depuis le d√©but

**Versions r√©centes :**
- Windows 10 (2015)
- Windows 11 (2021)

**Caract√©ristiques :**
- Interface intuitive et conviviale
- Grande compatibilit√© logicielle et mat√©rielle
- Large support commercial
- Pr√©install√© sur la plupart des PC

**Syst√®me de fichiers :**
- NTFS (New Technology File System)
- Lettres de lecteurs (C:, D:, E:...)
- S√©parateur de chemin : `\` (antislash)
- Exemple : `C:\Users\MonNom\Documents`

**Extensions de fichiers importantes :**
- `.exe` : fichiers ex√©cutables
- `.dll` : biblioth√®ques dynamiques
- `.bat` : scripts batch

**Pour la programmation :**
- FreePascal fonctionne parfaitement sous Windows
- Compilation rapide et native
- Lazarus offre une excellente int√©gration

### Linux (et distributions)

**Histoire :**
- Cr√©√© par Linus Torvalds en 1991
- Syst√®me open source et gratuit
- Base pour de nombreuses distributions

**Distributions populaires :**
- **Ubuntu** : la plus populaire pour les d√©butants
- **Debian** : stable et fiable
- **Fedora** : technologies r√©centes
- **Linux Mint** : interface proche de Windows
- **Arch Linux** : pour utilisateurs avanc√©s

**Caract√©ristiques :**
- Gratuit et open source
- Tr√®s stable et s√©curis√©
- Personnalisable √† l'extr√™me
- Excellent pour la programmation
- Utilis√© massivement sur les serveurs

**Syst√®me de fichiers :**
- ext4 (Fourth Extended Filesystem) le plus courant
- Structure arborescente unique depuis `/` (racine)
- S√©parateur de chemin : `/` (slash)
- Exemple : `/home/monnom/Documents`
- Pas de lettres de lecteurs

**Structure des dossiers Linux :**
```
/               Racine du syst√®me
‚îú‚îÄ‚îÄ /bin        Programmes essentiels
‚îú‚îÄ‚îÄ /boot       Fichiers de d√©marrage
‚îú‚îÄ‚îÄ /dev        P√©riph√©riques
‚îú‚îÄ‚îÄ /etc        Fichiers de configuration
‚îú‚îÄ‚îÄ /home       Dossiers personnels des utilisateurs
‚îú‚îÄ‚îÄ /lib        Biblioth√®ques syst√®me
‚îú‚îÄ‚îÄ /opt        Applications optionnelles
‚îú‚îÄ‚îÄ /tmp        Fichiers temporaires
‚îú‚îÄ‚îÄ /usr        Programmes et donn√©es utilisateur
‚îî‚îÄ‚îÄ /var        Donn√©es variables (logs, etc.)
```

**Extensions de fichiers :**
- Pas d'extension obligatoire pour les ex√©cutables
- Permissions d'ex√©cution d√©finies par attributs
- Scripts shell : `.sh`

**Pour la programmation :**
- Environnement de d√©veloppement natif
- Outils de compilation int√©gr√©s
- FreePascal et Lazarus fonctionnent parfaitement

### macOS (Apple)

**Histoire :**
- Cr√©√© par Apple en 2001
- Bas√© sur Unix (comme Linux)
- Exclusif aux ordinateurs Mac

**Caract√©ristiques :**
- Interface √©l√©gante et soign√©e
- Tr√®s bien int√©gr√© avec le mat√©riel Apple
- Syst√®me Unix sous le capot
- Excellent pour la cr√©ation multim√©dia

**Syst√®me de fichiers :**
- APFS (Apple File System) depuis 2017
- Structure Unix avec `/`
- S√©parateur de chemin : `/`
- Dossiers Applications, Documents, etc.

**Pour la programmation :**
- FreePascal supporte macOS
- Lazarus disponible pour macOS
- Excellent pour le d√©veloppement multi-plateforme

### Autres syst√®mes d'exploitation

**Syst√®mes mobiles :**
- **Android** : bas√© sur Linux, pour smartphones et tablettes
- **iOS** : syst√®me d'Apple pour iPhone et iPad

**Syst√®mes sp√©cialis√©s :**
- **BSD** : famille Unix (FreeBSD, OpenBSD)
- **Syst√®mes temps r√©el** : pour l'embarqu√© et l'industriel

## Diff√©rences entre Windows et Linux

Puisque ce tutoriel couvre Windows et Ubuntu, il est important de comprendre les diff√©rences.

### Structure des fichiers

**Windows :**
```
C:\
‚îú‚îÄ‚îÄ Program Files\
‚îú‚îÄ‚îÄ Program Files (x86)\
‚îú‚îÄ‚îÄ Windows\
‚îî‚îÄ‚îÄ Users\
    ‚îî‚îÄ‚îÄ VotreName\
        ‚îú‚îÄ‚îÄ Documents\
        ‚îú‚îÄ‚îÄ Downloads\
        ‚îî‚îÄ‚îÄ Desktop\
```

**Linux (Ubuntu) :**
```
/
‚îú‚îÄ‚îÄ bin/
‚îú‚îÄ‚îÄ home/
‚îÇ   ‚îî‚îÄ‚îÄ votrenom/
‚îÇ       ‚îú‚îÄ‚îÄ Documents/
‚îÇ       ‚îú‚îÄ‚îÄ Downloads/
‚îÇ       ‚îî‚îÄ‚îÄ Desktop/
‚îî‚îÄ‚îÄ usr/
    ‚îú‚îÄ‚îÄ bin/
    ‚îî‚îÄ‚îÄ lib/
```

### Chemins de fichiers

**Windows :**
- Lettre de lecteur obligatoire : `C:\`
- Antislash : `\`
- Insensible √† la casse : `Document.txt` = `document.txt`
- Exemple : `C:\Users\Alice\Documents\projet.pas`

**Linux :**
- Racine unique : `/`
- Slash : `/`
- Sensible √† la casse : `Document.txt` ‚â† `document.txt`
- Exemple : `/home/alice/Documents/projet.pas`

### Ex√©cutables et programmes

**Windows :**
- Extension `.exe` obligatoire
- Double-clic pour lancer
- Installation via installateurs (`.msi`, `.exe`)

**Linux :**
- Pas d'extension n√©cessaire
- Permissions d'ex√©cution requises
- Installation via gestionnaire de paquets ou compilation

### Ligne de commande

**Windows :**
- **CMD** (Command Prompt) : ancien terminal
- **PowerShell** : terminal moderne et puissant
- Commandes : `dir`, `cd`, `copy`, `del`

**Linux :**
- **Bash** (Bourne Again Shell) : terminal standard
- **Terminal** : interface du shell
- Commandes : `ls`, `cd`, `cp`, `rm`

### Gestion des logiciels

**Windows :**
- T√©l√©chargement et installation manuelle
- Microsoft Store
- Gestionnaires tiers (Chocolatey, Winget)

**Linux (Ubuntu) :**
- Gestionnaire de paquets APT
- Ubuntu Software Center
- Installation via terminal : `sudo apt install nomdupaquet`

## Concepts importants pour les programmeurs

### 1. Processus et threads

**Processus :**
- Instance d'un programme en cours d'ex√©cution
- Poss√®de son propre espace m√©moire
- Isol√© des autres processus

**Thread (fil d'ex√©cution) :**
- Sous-unit√© d'un processus
- Partage la m√©moire avec les autres threads du m√™me processus
- Permet le multit√¢che au sein d'un programme

**Exemple :**
Votre navigateur web est un processus qui contient plusieurs threads :
- Un thread pour l'interface utilisateur
- Un thread pour chaque onglet
- Un thread pour le t√©l√©chargement de fichiers

### 2. Variables d'environnement

Ce sont des valeurs d√©finies au niveau du syst√®me, accessibles par tous les programmes.

**Variables courantes :**
- **PATH** : liste des dossiers o√π chercher les ex√©cutables
- **HOME** (Linux) ou **USERPROFILE** (Windows) : dossier personnel de l'utilisateur
- **TEMP** : dossier pour fichiers temporaires

**Utilit√© en programmation :**
- Votre programme peut lire ces variables
- Permet de configurer le comportement sans modifier le code
- Utile pour les chemins d'installation

### 3. Permissions et droits d'acc√®s

**Linux (syst√®me de permissions Unix) :**
```
-rwxr-xr--
‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ
‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îî‚îî‚îÄ Autres (read only)
‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îî‚îÄ‚îÄ‚îÄ Groupe (read + execute)
‚îÇ‚îÇ‚îÇ‚îî‚îî‚îî‚îÄ‚îÄ‚îÄ‚îÄ Propri√©taire (read + write + execute)
‚îÇ‚îÇ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Type (- = fichier, d = dossier)
```

- **r** (read) : lecture
- **w** (write) : √©criture
- **x** (execute) : ex√©cution

**Windows :**
- Syst√®me de permissions plus complexe (ACL - Access Control Lists)
- Gestion via propri√©t√©s du fichier
- H√©rite souvent des permissions du dossier parent

### 4. Biblioth√®ques partag√©es

**Windows : DLL (Dynamic Link Library)**
- Fichiers `.dll`
- Contiennent du code partag√© entre plusieurs programmes
- Exemple : `kernel32.dll`, `user32.dll`

**Linux : SO (Shared Object)**
- Fichiers `.so`
- M√™me principe que les DLL
- Exemple : `libc.so`, `libpthread.so`

**Avantages :**
- √âconomie d'espace disque et m√©moire
- Mise √† jour centralis√©e du code commun
- Modularit√© des applications

### 5. API syst√®me

**API (Application Programming Interface) :**
- Ensemble de fonctions fournies par le syst√®me d'exploitation
- Permet aux programmes d'interagir avec le syst√®me
- Diff√©rentes selon le syst√®me

**Exemples d'API :**
- **Windows API** : CreateFile, ReadFile, WriteFile
- **POSIX** : open, read, write (Linux, macOS, Unix)

**En Pascal :**
FreePascal fournit des unit√©s qui encapsulent ces API de mani√®re portable :
- `SysUtils` : fonctions syst√®me multi-plateformes
- `Windows` : API Windows sp√©cifique
- `BaseUnix` : API Unix/Linux sp√©cifique

## Multi-plateforme : √©crire du code portable

Puisque FreePascal fonctionne sur Windows et Linux, voici comment √©crire du code portable.

### Utiliser les constantes syst√®me

FreePascal fournit des constantes pour g√©rer les diff√©rences :

```pascal
uses
  SysUtils;

var
  chemin: String;

begin
  // PathDelim est '\' sous Windows, '/' sous Linux
  chemin := 'dossier' + PathDelim + 'fichier.txt';

  // DirectorySeparator : m√™me chose que PathDelim
  // LineEnding : #13#10 sous Windows, #10 sous Linux
end.
```

### Directives de compilation conditionnelle

Permet d'avoir du code sp√©cifique √† chaque plateforme :

```pascal
{$IFDEF WINDOWS}
  WriteLn('Code sp√©cifique Windows');
{$ENDIF}

{$IFDEF LINUX}
  WriteLn('Code sp√©cifique Linux');
{$ENDIF}

{$IFDEF UNIX}
  // Linux, macOS, BSD
  WriteLn('Code Unix');
{$ENDIF}
```

### Fonctions portables

Utilisez les fonctions de l'unit√© `SysUtils` qui fonctionnent partout :

```pascal
// Obtenir le dossier personnel de l'utilisateur
cheminhome := GetUserDir;

// Obtenir le dossier temporaire
chemintemp := GetTempDir;

// V√©rifier si un fichier existe
if FileExists('fichier.txt') then
  WriteLn('Le fichier existe');

// Cr√©er un dossier
if not DirectoryExists('mondossier') then
  CreateDir('mondossier');
```

## L'environnement de d√©veloppement et le syst√®me

### Installation de FreePascal et Lazarus

**Windows :**
- T√©l√©charger l'installateur depuis le site officiel
- Ex√©cution de l'installateur (`.exe`)
- Installation dans `C:\lazarus` par d√©faut
- Ajout automatique au menu D√©marrer

**Linux (Ubuntu) :**
```bash
# Via le gestionnaire de paquets
sudo apt update
sudo apt install fpc lazarus

# Ou t√©l√©chargement depuis le site officiel
# Installation dans /usr/lib/lazarus
```

### Compilation et ex√©cution

**Sous Windows :**
```
fpc monprogramme.pas      ‚Üí G√©n√®re monprogramme.exe
monprogramme.exe          ‚Üí Ex√©cute le programme
```

**Sous Linux :**
```
fpc monprogramme.pas      ‚Üí G√©n√®re monprogramme (sans extension)
chmod +x monprogramme     ‚Üí Donne les permissions d'ex√©cution
./monprogramme            ‚Üí Ex√©cute le programme
```

### D√©pendances syst√®me

**Windows :**
- Peu de d√©pendances externes
- Les programmes compil√©s sont souvent autonomes
- Possibilit√© d'inclure les DLL n√©cessaires

**Linux :**
- Quelques biblioth√®ques requises
- Installation via le gestionnaire de paquets
- Pour Lazarus : `libgtk2.0-dev`, `libcairo2-dev`, etc.

## Interaction avec le syst√®me d'exploitation

### Ex√©cuter des commandes syst√®me

En Pascal, vous pouvez ex√©cuter des commandes syst√®me :

```pascal
uses
  Process;

var
  sortie: String;

begin
  // Windows
  {$IFDEF WINDOWS}
  RunCommand('cmd', ['/c', 'dir'], sortie);
  {$ENDIF}

  // Linux
  {$IFDEF LINUX}
  RunCommand('ls', ['-l'], sortie);
  {$ENDIF}

  WriteLn(sortie);
end.
```

### Obtenir des informations syst√®me

```pascal
uses
  SysUtils;

begin
  WriteLn('Nom de l'ordinateur : ', GetEnvironmentVariable('COMPUTERNAME'));
  WriteLn('Utilisateur : ', GetEnvironmentVariable('USERNAME'));
  WriteLn('Syst√®me : ', {$I %FPCTARGETOS%});
  WriteLn('Architecture : ', {$I %FPCTARGETCPU%});
end.
```

## Architecture syst√®me : 32 bits vs 64 bits

### Diff√©rences fondamentales

**32 bits (x86) :**
- Peut adresser jusqu'√† 4 Go de RAM
- Programmes plus petits
- Compatible avec ancien mat√©riel

**64 bits (x86-64 ou AMD64) :**
- Peut adresser des centaines de Go de RAM
- Meilleure performance pour applications lourdes
- Standard actuel

### Implications pour la programmation

**FreePascal :**
- Peut compiler en 32 bits ou 64 bits
- Les programmes 32 bits fonctionnent sur syst√®mes 64 bits
- Les programmes 64 bits ne fonctionnent QUE sur syst√®mes 64 bits

**Compilation :**
```bash
# 32 bits
fpc -Twin32 monprogramme.pas

# 64 bits
fpc -Twin64 monprogramme.pas
```

## Virtualisation et conteneurs

### Machines virtuelles

Une **machine virtuelle** est un ordinateur simul√© qui fonctionne dans un autre syst√®me.

**Logiciels populaires :**
- **VirtualBox** : gratuit, multi-plateforme
- **VMware** : professionnel
- **Hyper-V** : int√©gr√© √† Windows Pro

**Utilit√© :**
- Tester vos programmes sur diff√©rents syst√®mes
- Ubuntu dans Windows ou Windows dans Ubuntu
- Environnement de d√©veloppement isol√©

### WSL (Windows Subsystem for Linux)

**Qu'est-ce que WSL ?**
- Permet d'ex√©cuter Linux directement dans Windows
- Pas de machine virtuelle compl√®te
- Int√©gration √©troite avec Windows

**Avantages pour les d√©veloppeurs :**
- Acc√®s aux outils Linux depuis Windows
- Compilation et test multi-plateforme faciles
- Meilleur des deux mondes

## Conclusion

Le syst√®me d'exploitation est le logiciel fondamental qui fait fonctionner votre ordinateur. En tant que programmeur, comprendre son r√¥le et ses m√©canismes est essentiel.

**Points cl√©s √† retenir :**
- Le syst√®me d'exploitation g√®re le mat√©riel et fournit des services aux applications
- Windows et Linux sont les deux syst√®mes principaux que nous utiliserons
- Les chemins de fichiers et les conventions diff√®rent entre syst√®mes
- FreePascal et Lazarus sont multi-plateformes
- Utilisez les fonctions portables pour √©crire du code compatible Windows/Linux
- Les directives de compilation conditionnelle permettent du code sp√©cifique √† chaque plateforme

**Ce que vous devez retenir pour la programmation :**
- Les diff√©rences de chemins : `\` vs `/`
- Les extensions de fichiers : `.exe` vs pas d'extension
- Les permissions d'ex√©cution (Linux)
- L'utilisation de constantes portables (`PathDelim`, `LineEnding`)

**Prochaines √©tapes :**
Dans la section suivante, nous allons d√©couvrir la ligne de commande sous Windows et Linux, un outil indispensable pour tout programmeur qui vous permettra d'utiliser efficacement FreePascal.

‚è≠Ô∏è [Ligne de commande Windows et Linux basics](/01-prerequis-bases-programmation/08-ligne-commande-windows-linux-basics.md)
